<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" href="css/form.css">
    </head>

    <body>
        <form class="formContainer" action="/itenary/activities" method="POST">
            <div class="question">
                <label>Where will you be going?</label><br>
                <input id="location" name="location" class="inputForm" type="text"></input><br>
            </div>

            <div class="question">
                <label>When will you be staying there?</label><br>
                <input id="start" name="start" class="inputForm" type="date"></input><br>
            </div>

            <div class="question">
                <label>When will you be leaving?</label><br>
                <input id="end" name="end" class="inputForm" type="date"></input><br>
            </div>
            
            <div class="question">
                <label>What is your group's overall budget for this trip?</label><br>
                <input id="budget" name="budget" class="inputForm" type="number"></input><br>
            </div>

            <br />
        </form>

        <button onclick="generateInputJSON()">Submit</button>
    </body>

    <script>
        function generateInputJSON() {
            const answers = {
                "location": document.getElementById("location").value,
                "start": document.getElementById("start").value,
                "end": document.getElementById("end").value,
                "budget": document.getElementById("budget").value
            }

            fetch(`http://localhost:3000/itenary/activities?location=${answers["location"]}&startDate=${answers["start"]}&endDate=${answers["end"]}&budget=${answers["budget"]}`, {
                method: 'GET',
                mode: 'no-cors'
            })
            .then(res => res.json())
            .catch(err => {
                console.log(err)
            })
            
            console.log(answers)
        }
    </script>
</html>